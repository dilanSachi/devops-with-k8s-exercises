apiVersion: gateway.networking.k8s.io/v1beta1
kind: HTTPRoute
metadata:
  name: ex503-greeter-route
  namespace: exercises
spec:
  parentRefs:
    - name: ex503-greeter-app-svc
      group: ""
      kind: Service
      port: 2347
  rules:
    - matches:
        - path:
            type: PathPrefix
            value: /greeting
      backendRefs:
        - name: ex503-greeter-app-svc-v1
          port: 2347
          weight: 75
        - name: ex503-greeter-app-svc-v2
          port: 2347
          weight: 25
